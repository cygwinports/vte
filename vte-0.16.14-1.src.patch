--- origsrc/vte-0.16.14/python/Makefile.am	2007-06-18 17:00:58.000000000 -0500
+++ src/vte-0.16.14/python/Makefile.am	2008-06-05 13:34:39.765625000 -0500
@@ -1,5 +1,7 @@
 EXTRA_DIST = vte.defs vte.override cat.py unrealize.py vte-demo.py
 
+PYTHON_LIBS = -L$(libdir)/python$(PYTHON_VERSION)/config -lpython$(PYTHON_VERSION)
+
 PYTHON_MODULES = vtemodule.la
 
 if BUILD_PYTHON_MODULES
@@ -14,8 +16,8 @@
 
 vtemodule_la_CFLAGS = $(VTE_CFLAGS) $(X_CFLAGS) $(PYTHON_INCLUDES) $(PYGTK_CFLAGS)
 vtemodule_la_SOURCES = vtemodule.c
-vtemodule_la_LIBADD = $(top_builddir)/src/libvte.la $(LIBS) $(PYGTK_LIBS) $(VTE_LIBS) $(X_LIBS)
-vtemodule_la_LDFLAGS = -module -avoid-version -export-symbols-regex initvte
+vtemodule_la_LIBADD = $(top_builddir)/src/libvte.la $(LIBS) $(PYGTK_LIBS) $(VTE_LIBS) $(X_LIBS) $(PYTHON_LIBS)
+vtemodule_la_LDFLAGS = -module -avoid-version $(LIBTOOL_EXPORT_OPTIONS) -export-symbols-regex initvte
 nodist_vtemodule_la_SOURCES = vte.c
 
 vte.c: vte.defs vte.override
--- origsrc/vte-0.16.14/src/pty.c	2008-06-02 14:54:24.000000000 -0500
+++ src/vte-0.16.14/src/pty.c	2008-06-05 13:34:40.140625000 -0500
@@ -19,6 +19,8 @@
 #include "../config.h"
 #include <sys/types.h>
 #include <sys/ioctl.h>
+#include <sys/socket.h>
+#include <sys/uio.h>
 #ifdef HAVE_SYS_TERMIOS_H
 #include <sys/termios.h>
 #endif
